class(outputs$age_range)
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
class(outputs$start_age)
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
order(outputs$start_age)
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
class(outputs$start_age)
order(outputs$start_age)
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
View(outputs)
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
outputs[,4]
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
class(outputs[,4])
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
plots
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
source('C:/Users/rragonnet/Desktop/age_stratification_tb_RR.R')
plot(0,0); plot(1,1)
plot(0,0); plot(1,1, new=False)
plot(0,0); plot(1,1, new=FALSE)
plot(0,0); plot(1,1, plot.new=FALSE)
plot(0,0); plot(1,1, new.plot=FALSE)
plot(0,0); plot(1,1, add=TRUE)
plot(0,0); plot(1,1,add=TRUE)
plot(0,0)
plot(0,0)
plot(1,1,add=TRUE)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/format_life_table.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/format_life_table.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/draw_ages.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/draw_ages.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/draw_ages.R')
Master
Master()
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/draw_ages.R')
source('C:/Users/rragonnet/Desktop/sir_model.R')
source('C:/Users/rragonnet/Desktop/sir_model.R')
View(out)
source('C:/Users/rragonnet/Desktop/sir_model.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
View(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
class(UN_data$country)
UN_data$country
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
View(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
UN_data$Region
levels(UN_data$Region)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
View(output)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
detach(UN_data)
detach(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
a = 1:10
a
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
View(output)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
install.packages('rJava')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R', encoding = 'UTF-8')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/age_preference_function.R')
View(table)
table = read.csv('../Google Drive/ABM_for_IPT/pythonCode/prem_data/param_agepref_work.csv',header = FALSE,col.names = c('country','param'),
colClasses = c('character', 'numeric'))
table$country[1] = 'Albania'
ranks = table$param
ranks = order(ranks)
ranks = rev(ranks)
table = table[ranks,]
x=seq(0,50,by = 0.001)
selected_countries = c('Brazil', 'Cambodia', 'Romania', 'France', 'Nigeria', 'Serbia','Spain')
View(table)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/age_preference_function.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/age_preference_function.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/age_preference_function.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/format_life_table.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/format_life_table.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/R code/format_life_table.R')
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
colclasses=c('factor', rep('numeric',24) )
UN_data = read.csv('../Google Drive/ABM_for_IPT/Demographic data/Age pyramids/UN_age_pyramids.csv',header = TRUE,
colClasses = colclasses) #, na.strings = 'Ã¢â¬Â¦')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
# load all age_pyramids and create associated files
colclasses=c('factor', rep('numeric',24) )
UN_data = read.csv('../Google Drive/ABM_for_IPT/Demographic data/Age pyramids/UN_age_pyramids.csv',header = TRUE,
colClasses = colclasses, na.strings = 'NA_')
names(UN_data)[1]='Region'
regions = levels(UN_data$Region)
View(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
colclasses=c('factor', rep('numeric',24) )
UN_data = read.csv('../Google Drive/ABM_for_IPT/Demographic data/Age pyramids/UN_age_pyramids.csv',header = TRUE,
colClasses = colclasses, na.strings = 'NA_', sep=',')
View(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
View(UN_data)
source('C:/Users/rragonnet/Google Drive/ABM_for_IPT/Demographic data/Age pyramids/age_pyramids.R')
exp(-1)
exp(-5)
exp(-2)
x = rnorm(100,mean = 200,sd = 10)
y = rnorm(100,mean = 200,sd = 10)
a = ks.test(x, y)
print(a)
x = rnorm(100,mean = 200,sd = 10)
y = rnorm(100,mean = 50,sd = 10)
a = ks.test(x, y)
print(a)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
0.45**0.1
0.45**0.5
exp(-0.3)
exp(-0.5)
exp(-1)
exp(-3)
mu=1/(70*365)
mu
epsi = 5.6e-3
epsi/(mu+epsi)
nu = 3.3e-6
nu = 365*3.3e-6
1/nu
nu = 365*6.4e-6
1/nu
rexp(nu)
rexp(n=100,rate=nu)
rexp(n=100,rate=nu)
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
dev.off()
dev.off()
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
source('G:/My Drive/ABM_for_IPT/tb_mortality_process.R')
install.packages('socialmixR')
install.packages('socialmixr')
source('~/.active-rstudio-document')
?contact_matrix
list_surveys()
peru <- get_survey(1)
peru <- get_survey(2)
contact_matrix(peru)
Zimb = get_survey(6)
Zimb = get_survey(5)
Zimb
33.81/119.7
0.21*(251.35-95.48)/(95.48*0.79)
source('G:/My Drive/AuTuMN website/WorldMap/worldmap.R')
install.packages(maps)
install.packages('maps')
install.packages('rworldmap')
source('G:/My Drive/AuTuMN website/WorldMap/worldmap.R')
source('G:/My Drive/AuTuMN website/WorldMap/worldmap.R')
16+18
16/34
3/34
15/34
53*0.47 +  31*0.09 + 40*0.44
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
time_detect_smplus
Prop_high_ref = 0.46
relative_risk_low = 0.5
Coef_ref = Prop_high_ref * 1 + (1-Prop_high_ref) * relative_risk_low
Prop_high_location = 0.46
Coef_location = Prop_high_location * 1 + (1-Prop_high_location) * relative_risk_low
RR = Coef_location / Coef_ref
print(RR)
Prop_high_ref = 0.46
relative_risk_low = 0.5
Coef_ref = Prop_high_ref * 1 + (1-Prop_high_ref) * relative_risk_low
Prop_high_location = 0.30
Coef_location = Prop_high_location * 1 + (1-Prop_high_location) * relative_risk_low
RR = Coef_location / Coef_ref
print(RR)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
15.46 + 12.65 + 11.94 + 9 + 5.7+5.7+6.4+2.7+1.3+0.5+0.4
spiders=read.csv(file.choose())
file.choose()
f=file.choose()
spiders=read.csv(file.choose())
spiders$spid = factor(spiders$spid)
head(spiders)
with(spiders, boxplot(speed.before,speed.after,
col="lightblue", names=colnames(spiders[1:2]),
ylab="Running   speed (cm/sec)",las=1,
main="Pedipalp amputation in Tidarren" ))
oldpar <- par(mfrow =c(1,2))
spiders$diff = spiders$speed.after - spiders$speed.before
with(spiders, qqnorm(diff))
with(spiders, qqline(diff, col="red"))
par(oldpar)
View(spiders)
View(spiders)
with(spiders, shapiro.test(diff))
names(spiders) = c("before", "after","spid")
spL = melt(spiders, id ="spid")
spL = melt(spiders, id ="spid")
library(reshape2)
install.packages(reshape2)
install.packages('reshape2')
library(reshape2)
names(spiders) = c("before", "after","spid")
spL = melt(spiders, id ="spid")
View(spL)
library(socialmixr)
# Calling the socialmixr package
library(socialmixr)
library("reshape2")
library("ggplot2")
install.packages("devtools")
install.packages("devtools")
library(socialmixr)
library("reshape2")
library("ggplot2")
install.packages('ggplot2')
library(socialmixr)
library("reshape2")
library("ggplot2")
# A look at the polymod data: a list because of the relational database structure
summary(polymod)
head(polymod); str(polymod)
# The POLYMOD UK data
tmp=contact_matrix(polymod,countries="United Kingdom",age.limits=c(0,20,40,60),symmetric=T)
# Mean matrix
mr=tmp$matrix
df <- melt(mr, varnames = c("age1", "age2"), value.name = "contacts")
ggplot(df, aes(x = age2, y = age1, fill = contacts)) + theme(legend.position = "bottom") +
geom_tile()
demo=tmp$demography$population
cr=t(mr)/demo
# Installing the required packges
install.packages("devtools")
devtools::install_github("sbfnk/socialmixr")
# Calling the socialmixr package
library(socialmixr)
library("reshape2")
library("ggplot2")
# Surveys currently available on Zenodo or with the package (polymod)
list_surveys()
# A look at the polymod data: a list because of the relational database structure
summary(polymod)
head(polymod); str(polymod)
# The POLYMOD UK data
tmp=contact_matrix(polymod,countries="United Kingdom",age.limits=c(0,20,40,60),symmetric=T)
# Mean matrix
mr=tmp$matrix
df <- melt(mr, varnames = c("age1", "age2"), value.name = "contacts")
ggplot(df, aes(x = age2, y = age1, fill = contacts)) + theme(legend.position = "bottom") +
geom_tile()
# Rate matrix
demo=tmp$demography$population
cr=t(mr)/demo
df <- melt(cr, varnames = c("age1", "age2"), value.name = "contacts")
ggplot(df, aes(x = age2, y = age1, fill = contacts)) + theme(legend.position = "bottom") +
geom_tile()
# The Peruvian data
peru=get_survey(1)
tmp=contact_matrix(peru,age.limits=c(0,20,40,60,80),symmetric=T)
mr=tmp$matrix
wpp_countries()
demo=pop_age(wpp_age("Peru", years=c(2017)),age.limits=c(0,20,40,60,80))$population
cr=t(mr)/demo
# Plot the contact matrix
df <- melt(cr, varnames = c("age1", "age2"), value.name = "contacts")
ggplot(df, aes(x = age2, y = age1, fill = contacts)) + theme(legend.position = "bottom") +
geom_tile()
getwd()
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('G:/My Drive/ABM_for_IPT/age_preference_function.R')
source('G:/My Drive/ABM_for_IPT/age_preference_function.R')
x=seq(0,40,by = 0.001)
sigma_schools =  2
sigma_workplace = 100
y_schools = dnorm(x, mean=0, sd=sigma_schools) * sqrt(2*pi*sigma_schools**2)
y_workplace = dnorm(x, mean=0, sd=sigma_workplace) * sqrt(2*pi*sigma_workplace**2)
#pdf(file = '../Desktop/workplaces.pdf')
#plot(x,y_schools, type='l',xlab='age difference (years)', ylab='probability multiplier',
#     main='Age-preference function for social contacts', col='black', lwd=2)
#lines(x, y_workplace, lwd=2, lty=2)
#legend(x=25,y=0.8,legend = c('schools', 'workplaces'),lty = c(1,2), lwd=1.5, cex = 1.1)
#dev.off()
#print(dnorm(5, mean=0, sd=sigma_schools) * sqrt(2*pi*sigma_schools**2))
###################################################
table = read.csv('../Google Drive/ABM_for_IPT/pythonCode/prem_data/sd_agepref_work.csv',header = FALSE,col.names = c('country','sd'),
colClasses = c('character', 'numeric'))
table$country[1] = 'Albania'
x=seq(0,50,by = 0.001)
selected_countries = c('Brazil', 'Cambodia', 'Romania', 'France', 'Nigeria', 'Serbia','Spain')
pdf(file = '../Google Drive/ABM_for_IPT/pythonCode/prem_data/work_contacts.pdf')
plot(x,x, type='n',xlab='age difference (years)', ylab='probability multiplier',
main='Age-preference function for work contacts', ylim=c(0,1))
for (i in 1:nrow(table)){
#if (table$country[i] %in% selected_countries){
sd = table$sd[i]
y_work = dnorm(x, mean=0, sd=sd) * sqrt(2*pi*sd**2)
lines(x, y_work, col='black',lwd=1)
x_text = 49
y_text = y_work[length(x)]+0.05
if (table$country[i] == 'Nigeria'){
y_text = 0.05
}
if (table$country[i] == 'Cambodia'){
y_text = 0.18
x_text = 48
}
if (table$country[i] == 'Romania'){
x_text = 48
y_text = y_text +0.03
}
if (table$country[i] == 'Brazil'){
y_text = y_text +0.03
}
if (table$country[i] == 'Spain'){
y_text = y_text +0.03
}
# text(x =x_text , y= y_text,labels = table$country[i])
#}
}
dev.off()
View(table)
setwd("G:/My Drive/ABM_for_IPT/SNAP-TB/prem_data/")
x=seq(0,40,by = 0.001)
sigma_schools =  2
sigma_workplace = 100
y_schools = dnorm(x, mean=0, sd=sigma_schools) * sqrt(2*pi*sigma_schools**2)
y_workplace = dnorm(x, mean=0, sd=sigma_workplace) * sqrt(2*pi*sigma_workplace**2)
#pdf(file = '../Desktop/workplaces.pdf')
#plot(x,y_schools, type='l',xlab='age difference (years)', ylab='probability multiplier',
#     main='Age-preference function for social contacts', col='black', lwd=2)
#lines(x, y_workplace, lwd=2, lty=2)
#legend(x=25,y=0.8,legend = c('schools', 'workplaces'),lty = c(1,2), lwd=1.5, cex = 1.1)
#dev.off()
#print(dnorm(5, mean=0, sd=sigma_schools) * sqrt(2*pi*sigma_schools**2))
###################################################
table = read.csv('../Google Drive/ABM_for_IPT/pythonCode/prem_data/sd_agepref_work.csv',header = FALSE,col.names = c('country','sd'),
colClasses = c('character', 'numeric'))
table$country[1] = 'Albania'
x=seq(0,50,by = 0.001)
selected_countries = c('Brazil', 'Cambodia', 'Romania', 'France', 'Nigeria', 'Serbia','Spain')
pdf(file = '../Google Drive/ABM_for_IPT/pythonCode/prem_data/work_contacts.pdf')
plot(x,x, type='n',xlab='age difference (years)', ylab='probability multiplier',
main='Age-preference function for work contacts', ylim=c(0,1))
for (i in 1:nrow(table)){
#if (table$country[i] %in% selected_countries){
sd = table$sd[i]
if (!is.na(sd)){
y_work = dnorm(x, mean=0, sd=sd) * sqrt(2*pi*sd**2)
lines(x, y_work, col='black',lwd=1)
x_text = 49
y_text = y_work[length(x)]+0.05
}
if (table$country[i] == 'Nigeria'){
y_text = 0.05
}
if (table$country[i] == 'Cambodia'){
y_text = 0.18
x_text = 48
}
if (table$country[i] == 'Romania'){
x_text = 48
y_text = y_text +0.03
}
if (table$country[i] == 'Brazil'){
y_text = y_text +0.03
}
if (table$country[i] == 'Spain'){
y_text = y_text +0.03
}
# text(x =x_text , y= y_text,labels = table$country[i])
#}
}
dev.off()
source('G:/My Drive/ABM_for_IPT/age_preference_function.R')
source('G:/My Drive/ABM_for_IPT/age_preference_function.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
